<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Sell</title>
<link rel="stylesheet" type="text/css" media="all"
	href="../CSS/mystyle.css" th:href="@{/css/mystyle.css}" />
</head>

<body>

	<div  class="formdiv">
		<h1>Sell</h1>

        <!-- HomePage link-->
        <a th:href="@{/home}">Home</a>
		
        <!-- Auctions created by the User and not closed yet -->
        <h2>Open Auctions</h2>

        <div th:if="${openAuctions != null and !openAuctions.isEmpty()}">
            <ul>
                <li th:each="auction : ${openAuctions}">
                    <p>
                        Auction #<span th:text="${auction.id}">1</span><br>
                        Base Price: <span th:text="${auction.basePrice}">100€</span><br>
                        Closing Date: <span th:text="${auction.closingDate}">31/12/2025</span><br>
                        Current Highest Bid: <span th:text="${auction.highestBid != null ? auction.highestBid : 'No offers yet'}">No offers yet</span>
                    </p>
                    <hr>
                </li>
            </ul>
        </div>

        <div th:unless="${openAuctions != null and !openAuctions.isEmpty()}">
            <!-- If the list is null or empty, show this message -->
            <p>No open auctions available.</p>
        </div>
        
        <br>

        <!-- Auctions created by the User and closed -->
        <h2>Closed Auctions</h2>

        <div th:if="${closedAuctions != null and !closedAuctions.isEmpty()}">
            <ul>
                <li th:each="auction : ${closedAuctions}">
                    <p>
                        Auction #<span th:text="${auction.id}">2</span><br>
                        Final Price: <span th:text="${auction.finalPrice != null ? auction.finalPrice : 'Not sold'}">200€</span><br>
                        Closing Date: <span th:text="${auction.closingDate}">01/01/2025</span><br>
                        Winner User ID: <span th:text="${auction.buyerId != null ? auction.buyerId : 'No winner'}">No winner</span>
                    </p>
                    <hr>
                </li>
            </ul>
        </div>

        <div th:unless="${closedAuctions != null and !closedAuctions.isEmpty()}">
            <!-- If the list is null or empty, show this message -->
            <p>No closed auctions available.</p>
        </div>

        <!-- TODO: Add Forms -->
	</div>
</body>
</html>